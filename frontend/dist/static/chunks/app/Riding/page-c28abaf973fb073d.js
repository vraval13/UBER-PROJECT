(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{1824:(e,t,l)=>{Promise.resolve().then(l.bind(l,6825))},5565:(e,t,l)=>{"use strict";l.d(t,{default:()=>a.a});var s=l(4146),a=l.n(s)},4146:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return o},getImageProps:function(){return r}});let s=l(306),a=l(666),n=l(7970),i=s._(l(5514));function r(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let o=n.Image},1762:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var s=l(5155),a=l(2115),n=l(9047),i=l(2818);let r={width:"100%",height:"100%"},o={lat:-3.745,lng:-38.523},c=()=>{let[e,t]=(0,a.useState)(o);return(0,a.useEffect)(()=>{navigator.geolocation.getCurrentPosition(e=>{let{latitude:l,longitude:s}=e.coords;t({lat:l,lng:s})});let e=navigator.geolocation.watchPosition(e=>{let{latitude:l,longitude:s}=e.coords;t({lat:l,lng:s})});return()=>navigator.geolocation.clearWatch(e)},[]),(0,a.useEffect)(()=>{let e=()=>{navigator.geolocation.getCurrentPosition(e=>{let{latitude:l,longitude:s}=e.coords;console.log("Position updated:",l,s),t({lat:l,lng:s})})};e();let l=setInterval(e,1e3);return()=>clearInterval(l)},[]),(0,s.jsx)(n.aJ,{googleMapsApiKey:i.env.GOOGLE_MAPS_API,children:(0,s.jsx)(n.u6,{mapContainerStyle:r,center:e,zoom:15,children:(0,s.jsx)(n.pH,{position:e})})})}},6825:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>d});var s=l(5155),a=l(5565),n=l(8173),i=l.n(n),r=l(2115);l(2069);var o=l(1807),c=l(6046);l(1762);let d=()=>{var e,t;let l=(0,c.useRouter)(),n=(0,c.useSearchParams)(),{socket:d}=(0,r.useContext)(o.d),[u,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=n.get("rideId"),t=n.get("pickup"),l=n.get("destination"),s=n.get("fare"),a=n.get("captainName");e&&t&&l&&s&&a&&m({_id:e,pickup:t,destination:l,fare:s,captain:{fullname:{firstname:a}}})},[n]),console.log("Ride Data:",u),d.on("ride-ended",()=>{l.replace("/home")}),(0,s.jsxs)("div",{className:"h-screen",children:[(0,s.jsx)(i(),{href:"/home",className:"fixed bright-2 top-2 h-10 w-5 bg-white flex items-center justify-center rounded-full",children:(0,s.jsx)("i",{className:" text-lg font-medium ri-home-5-line"})}),(0,s.jsx)("div",{clasName:"h-1/2",children:(0,s.jsx)(a.default,{className:"h-full w-full object-cover",src:"/map.gif",alt:"Uber Map Animation",width:500,height:300})}),(0,s.jsxs)("div",{clasName:"h-1/2 p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a.default,{src:"/car.webp",width:120,height:120,alt:"Car"}),(0,s.jsxs)("div",{className:"text-right p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium",children:(null==u?void 0:null===(t=u.captain)||void 0===t?void 0:null===(e=t.fullname)||void 0===e?void 0:e.firstname)||"Unknown User"}),(0,s.jsx)("h4",{className:"text-xl font-semibold -mt-1 -mb-1",children:"GJ01 RL 8092"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"White Honda Mobilio - V"})]})]}),(0,s.jsx)("div",{className:"flex gap-2 justify-between flex-col items-center",children:(0,s.jsxs)("div",{className:"w-full mt-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5 p-3 border-b-2",children:[(0,s.jsx)("i",{className:"text-lg ri-map-pin-2-fill"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:(null==u?void 0:u.pickup)||"N/A"}),(0,s.jsx)("p",{className:"text-sm -mt-1 text-gray-600",children:"Pickup Location"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-5 p-3",children:[(0,s.jsx)("i",{className:"ri-currency-line"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium",children:["â‚¹",(null==u?void 0:u.fare)||"N/A"]}),(0,s.jsx)("p",{className:"text-sm -mt-1 text-gray-600",children:"Cash Cash"})]})]})]})}),(0,s.jsx)("button",{className:" mt-5 w-full bg-green-600 text-white font-semibold p-2 rounded-lg",children:"Make a Payment"})]})]})}},1807:(e,t,l)=>{"use strict";l.d(t,{d:()=>i,default:()=>o});var s=l(5155),a=l(2115),n=l(1319);let i=(0,a.createContext)(),r=(0,n.io)("".concat("https://uber-backend-zq0d.onrender.com")),o=e=>{let{children:t}=e;return(0,a.useEffect)(()=>{r.on("connect",()=>{console.log("Connected to server")}),r.on("disconnect",()=>{console.log("Disconnected from server")})},[]),(0,s.jsx)(i.Provider,{value:{socket:r},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[703,84,970,173,868,441,517,358],()=>t(1824)),_N_E=e.O()}]);